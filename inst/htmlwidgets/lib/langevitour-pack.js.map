{"version":3,"file":"langevitour-pack.js","mappings":"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","sources":["webpack://langevitour/./node_modules/jstat/dist/jstat.js","webpack://langevitour/./node_modules/svd-js/build-umd/svd-js.min.js","webpack://langevitour/webpack/bootstrap","webpack://langevitour/webpack/runtime/define property getters","webpack://langevitour/webpack/runtime/hasOwnProperty shorthand","webpack://langevitour/webpack/runtime/make namespace object","webpack://langevitour/./node_modules/d3-selection/src/selector.js","webpack://langevitour/./node_modules/d3-selection/src/array.js","webpack://langevitour/./node_modules/d3-selection/src/selectorAll.js","webpack://langevitour/./node_modules/d3-selection/src/matcher.js","webpack://langevitour/./node_modules/d3-selection/src/selection/selectChild.js","webpack://langevitour/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://langevitour/./node_modules/d3-selection/src/selection/sparse.js","webpack://langevitour/./node_modules/d3-selection/src/selection/enter.js","webpack://langevitour/./node_modules/d3-selection/src/constant.js","webpack://langevitour/./node_modules/d3-selection/src/selection/data.js","webpack://langevitour/./node_modules/d3-selection/src/selection/sort.js","webpack://langevitour/./node_modules/d3-selection/src/namespaces.js","webpack://langevitour/./node_modules/d3-selection/src/namespace.js","webpack://langevitour/./node_modules/d3-selection/src/selection/attr.js","webpack://langevitour/./node_modules/d3-selection/src/window.js","webpack://langevitour/./node_modules/d3-selection/src/selection/style.js","webpack://langevitour/./node_modules/d3-selection/src/selection/property.js","webpack://langevitour/./node_modules/d3-selection/src/selection/classed.js","webpack://langevitour/./node_modules/d3-selection/src/selection/text.js","webpack://langevitour/./node_modules/d3-selection/src/selection/html.js","webpack://langevitour/./node_modules/d3-selection/src/selection/raise.js","webpack://langevitour/./node_modules/d3-selection/src/selection/lower.js","webpack://langevitour/./node_modules/d3-selection/src/creator.js","webpack://langevitour/./node_modules/d3-selection/src/selection/insert.js","webpack://langevitour/./node_modules/d3-selection/src/selection/remove.js","webpack://langevitour/./node_modules/d3-selection/src/selection/clone.js","webpack://langevitour/./node_modules/d3-selection/src/selection/on.js","webpack://langevitour/./node_modules/d3-selection/src/selection/dispatch.js","webpack://langevitour/./node_modules/d3-selection/src/selection/index.js","webpack://langevitour/./node_modules/d3-selection/src/selection/select.js","webpack://langevitour/./node_modules/d3-selection/src/selection/selectAll.js","webpack://langevitour/./node_modules/d3-selection/src/selection/filter.js","webpack://langevitour/./node_modules/d3-selection/src/selection/exit.js","webpack://langevitour/./node_modules/d3-selection/src/selection/join.js","webpack://langevitour/./node_modules/d3-selection/src/selection/merge.js","webpack://langevitour/./node_modules/d3-selection/src/selection/order.js","webpack://langevitour/./node_modules/d3-selection/src/selection/call.js","webpack://langevitour/./node_modules/d3-selection/src/selection/nodes.js","webpack://langevitour/./node_modules/d3-selection/src/selection/node.js","webpack://langevitour/./node_modules/d3-selection/src/selection/size.js","webpack://langevitour/./node_modules/d3-selection/src/selection/empty.js","webpack://langevitour/./node_modules/d3-selection/src/selection/each.js","webpack://langevitour/./node_modules/d3-selection/src/selection/append.js","webpack://langevitour/./node_modules/d3-selection/src/selection/datum.js","webpack://langevitour/./node_modules/d3-selection/src/selection/iterator.js","webpack://langevitour/./node_modules/d3-dispatch/src/dispatch.js","webpack://langevitour/./node_modules/d3-timer/src/timer.js","webpack://langevitour/./node_modules/d3-timer/src/timeout.js","webpack://langevitour/./node_modules/d3-transition/src/transition/schedule.js","webpack://langevitour/./node_modules/d3-interpolate/src/number.js","webpack://langevitour/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://langevitour/./node_modules/d3-interpolate/src/transform/parse.js","webpack://langevitour/./node_modules/d3-interpolate/src/transform/index.js","webpack://langevitour/./node_modules/d3-transition/src/transition/tween.js","webpack://langevitour/./node_modules/d3-color/src/define.js","webpack://langevitour/./node_modules/d3-color/src/color.js","webpack://langevitour/./node_modules/d3-interpolate/src/basis.js","webpack://langevitour/./node_modules/d3-interpolate/src/constant.js","webpack://langevitour/./node_modules/d3-interpolate/src/color.js","webpack://langevitour/./node_modules/d3-interpolate/src/rgb.js","webpack://langevitour/./node_modules/d3-interpolate/src/basisClosed.js","webpack://langevitour/./node_modules/d3-interpolate/src/string.js","webpack://langevitour/./node_modules/d3-transition/src/transition/interpolate.js","webpack://langevitour/./node_modules/d3-transition/src/transition/attr.js","webpack://langevitour/./node_modules/d3-transition/src/transition/attrTween.js","webpack://langevitour/./node_modules/d3-transition/src/transition/delay.js","webpack://langevitour/./node_modules/d3-transition/src/transition/duration.js","webpack://langevitour/./node_modules/d3-transition/src/transition/ease.js","webpack://langevitour/./node_modules/d3-transition/src/transition/on.js","webpack://langevitour/./node_modules/d3-transition/src/transition/selection.js","webpack://langevitour/./node_modules/d3-transition/src/transition/style.js","webpack://langevitour/./node_modules/d3-transition/src/transition/styleTween.js","webpack://langevitour/./node_modules/d3-transition/src/transition/textTween.js","webpack://langevitour/./node_modules/d3-transition/src/transition/index.js","webpack://langevitour/./node_modules/d3-transition/src/transition/select.js","webpack://langevitour/./node_modules/d3-transition/src/transition/selectAll.js","webpack://langevitour/./node_modules/d3-transition/src/transition/filter.js","webpack://langevitour/./node_modules/d3-transition/src/transition/merge.js","webpack://langevitour/./node_modules/d3-transition/src/transition/transition.js","webpack://langevitour/./node_modules/d3-transition/src/transition/text.js","webpack://langevitour/./node_modules/d3-transition/src/transition/remove.js","webpack://langevitour/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://langevitour/./node_modules/d3-transition/src/transition/end.js","webpack://langevitour/./node_modules/d3-transition/src/selection/transition.js","webpack://langevitour/./node_modules/d3-ease/src/cubic.js","webpack://langevitour/./node_modules/d3-transition/src/selection/index.js","webpack://langevitour/./node_modules/d3-transition/src/selection/interrupt.js","webpack://langevitour/./node_modules/d3-transition/src/interrupt.js","webpack://langevitour/./node_modules/d3-brush/src/brush.js","webpack://langevitour/./node_modules/d3-selection/src/select.js","webpack://langevitour/./node_modules/d3-selection/src/pointer.js","webpack://langevitour/./node_modules/d3-selection/src/sourceEvent.js","webpack://langevitour/./node_modules/d3-drag/src/noevent.js","webpack://langevitour/./node_modules/d3-drag/src/constant.js","webpack://langevitour/./node_modules/d3-drag/src/event.js","webpack://langevitour/./node_modules/d3-drag/src/drag.js","webpack://langevitour/./node_modules/d3-array/src/ticks.js","webpack://langevitour/./node_modules/d3-array/src/ascending.js","webpack://langevitour/./node_modules/d3-array/src/descending.js","webpack://langevitour/./node_modules/d3-array/src/bisector.js","webpack://langevitour/./node_modules/d3-array/src/bisect.js","webpack://langevitour/./node_modules/d3-array/src/number.js","webpack://langevitour/./node_modules/d3-interpolate/src/array.js","webpack://langevitour/./node_modules/d3-interpolate/src/date.js","webpack://langevitour/./node_modules/d3-interpolate/src/object.js","webpack://langevitour/./node_modules/d3-interpolate/src/numberArray.js","webpack://langevitour/./node_modules/d3-interpolate/src/value.js","webpack://langevitour/./node_modules/d3-interpolate/src/round.js","webpack://langevitour/./node_modules/d3-scale/src/number.js","webpack://langevitour/./node_modules/d3-scale/src/continuous.js","webpack://langevitour/./node_modules/d3-scale/src/constant.js","webpack://langevitour/./node_modules/d3-scale/src/init.js","webpack://langevitour/./node_modules/d3-format/src/formatSpecifier.js","webpack://langevitour/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://langevitour/./node_modules/d3-format/src/formatDecimal.js","webpack://langevitour/./node_modules/d3-format/src/exponent.js","webpack://langevitour/./node_modules/d3-format/src/formatRounded.js","webpack://langevitour/./node_modules/d3-format/src/formatTypes.js","webpack://langevitour/./node_modules/d3-format/src/identity.js","webpack://langevitour/./node_modules/d3-format/src/locale.js","webpack://langevitour/./node_modules/d3-format/src/defaultLocale.js","webpack://langevitour/./node_modules/d3-scale/src/linear.js","webpack://langevitour/./node_modules/d3-scale/src/tickFormat.js","webpack://langevitour/./node_modules/d3-format/src/precisionPrefix.js","webpack://langevitour/./node_modules/d3-format/src/precisionRound.js","webpack://langevitour/./node_modules/d3-format/src/precisionFixed.js","webpack://langevitour/./node_modules/d3-scale-chromatic/src/colors.js","webpack://langevitour/./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://langevitour/./node_modules/d3-format/src/formatGroup.js","webpack://langevitour/./node_modules/d3-format/src/formatNumerals.js","webpack://langevitour/./node_modules/d3-format/src/formatTrim.js","webpack://langevitour/./node_modules/d3-zoom/src/transform.js","webpack://langevitour/./lib/math.js","webpack://langevitour/./lib/util.js","webpack://langevitour/./lib/guides.js","webpack://langevitour/./lib/langevitour.js","webpack://langevitour/./node_modules/d3-drag/src/nodrag.js"],"sourcesContent":["(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(num) {\n  return (typeof num === 'number') ? num - num === 0 : false;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var i;\n  var distinctNumbers = [];\n  var numberCounts = {};\n  for (i = 0; i < arr.length; i++) {\n    var number = arr[i];\n    if (numberCounts[number]) {\n      numberCounts[number]++;\n    } else {\n      numberCounts[number] = 1;\n      distinctNumbers.push(number);\n    }\n  }\n\n  var sortedDistinctNumbers = distinctNumbers.sort(ascNum);\n  var numberRanks = {};\n  var currentRank = 1;\n  for (i = 0; i < sortedDistinctNumbers.length; i++) {\n    var number = sortedDistinctNumbers[i];\n    var count = numberCounts[number];\n    var first = currentRank;\n    var last = currentRank + count - 1;\n    var rank = (first + last) / 2;\n    numberRanks[number] = rank;\n    currentRank += count;\n  }\n\n  return arr.map(function (number) {\n    return numberRanks[number];\n  });\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n/*\n * log-gamma function to support poisson distribution sampling. The\n * algorithm comes from SPECFUN by Shanjie Zhang and Jianming Jin and their\n * book \"Computation of Special Functions\", 1996, John Wiley & Sons, Inc.\n */\njStat.loggam = function loggam(x) {\n  var x0, x2, xp, gl, gl0;\n  var k, n;\n\n  var a = [8.333333333333333e-02, -2.777777777777778e-03,\n          7.936507936507937e-04, -5.952380952380952e-04,\n          8.417508417508418e-04, -1.917526917526918e-03,\n          6.410256410256410e-03, -2.955065359477124e-02,\n          1.796443723688307e-01, -1.39243221690590e+00];\n  x0 = x;\n  n = 0;\n  if ((x == 1.0) || (x == 2.0)) {\n      return 0.0;\n  }\n  if (x <= 7.0) {\n      n = Math.floor(7 - x);\n      x0 = x + n;\n  }\n  x2 = 1.0 / (x0 * x0);\n  xp = 2 * Math.PI;\n  gl0 = a[9];\n  for (k = 8; k >= 0; k--) {\n      gl0 *= x2;\n      gl0 += a[k];\n  }\n  gl = gl0 / x0 + 0.5 * Math.log(xp) + (x0 - 0.5) * Math.log(x0) - x0;\n  if (x <= 7.0) {\n      for (k = 1; k <= n; k++) {\n          gl -= Math.log(x0 - 1.0);\n          x0 -= 1.0;\n      }\n  }\n  return gl;\n}\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (x > 171.6243769536076) {\n    return Infinity;\n  }\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function f(a, b, c) {\n      if (!(this instanceof f))\n        return new f(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sampleSmall: function sampleSmall(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  },\n\n  sampleLarge: function sampleLarge(l) {\n    var lam = l;\n    var k;\n    var U, V, slam, loglam, a, b, invalpha, vr, us;\n\n    slam = Math.sqrt(lam);\n    loglam = Math.log(lam);\n    b = 0.931 + 2.53 * slam;\n    a = -0.059 + 0.02483 * b;\n    invalpha = 1.1239 + 1.1328 / (b - 3.4);\n    vr = 0.9277 - 3.6224 / (b - 2);\n\n    while (1) {\n      U = Math.random() - 0.5;\n      V = Math.random();\n      us = 0.5 - Math.abs(U);\n      k = Math.floor((2 * a / us + b) * U + lam + 0.43);\n      if ((us >= 0.07) && (V <= vr)) {\n          return k;\n      }\n      if ((k < 0) || ((us < 0.013) && (V > us))) {\n          continue;\n      }\n      /* log(V) == log(0.0) ok here */\n      /* if U==0.0 so that us==0.0, log is ok since always returns */\n      if ((Math.log(V) + Math.log(invalpha) - Math.log(a / (us * us) + b)) <= (-lam + k * loglam - jStat.loggam(k + 1))) {\n          return k;\n      }\n    }\n  },\n\n  sample: function sample(l) {\n    if (l < 10)\n      return this.sampleSmall(l);\n    else\n      return this.sampleLarge(l);\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n","!function(r,f){\"object\"==typeof exports&&\"undefined\"!=typeof module?f(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],f):f((r=\"undefined\"!=typeof globalThis?globalThis:r||self).SVDJS={})}(this,function(r){\"use strict\";r.SVD=function(r,f,o,e,t){if(f=void 0===f||f,o=void 0===o||o,t=1e-64/(e=e||Math.pow(2,-52)),!r)throw new TypeError(\"Matrix a is not defined\");var i,a,n,s,h,l,M,d,p,b,u,w,y=r[0].length,q=r.length;if(q<y)throw new TypeError(\"Invalid matrix: m < n\");for(var v=[],c=[],x=[],g=\"f\"===f?q:y,m=b=M=0;m<q;m++)c[m]=new Array(g).fill(0);for(m=0;m<y;m++)x[m]=new Array(y).fill(0);var S,T=new Array(y).fill(0);for(m=0;m<q;m++)for(i=0;i<y;i++)c[m][i]=r[m][i];for(m=0;m<y;m++){for(v[m]=M,p=0,n=m+1,i=m;i<q;i++)p+=Math.pow(c[i][m],2);if(p<t)M=0;else for(d=(l=c[m][m])*(M=l<0?Math.sqrt(p):-Math.sqrt(p))-p,c[m][m]=l-M,i=n;i<y;i++){for(p=0,a=m;a<q;a++)p+=c[a][m]*c[a][i];for(l=p/d,a=m;a<q;a++)c[a][i]=c[a][i]+l*c[a][m]}for(T[m]=M,p=0,i=n;i<y;i++)p+=Math.pow(c[m][i],2);if(p<t)M=0;else{for(d=(l=c[m][m+1])*(M=l<0?Math.sqrt(p):-Math.sqrt(p))-p,c[m][m+1]=l-M,i=n;i<y;i++)v[i]=c[m][i]/d;for(i=n;i<q;i++){for(p=0,a=n;a<y;a++)p+=c[i][a]*c[m][a];for(a=n;a<y;a++)c[i][a]=c[i][a]+p*v[a]}}b<(u=Math.abs(T[m])+Math.abs(v[m]))&&(b=u)}if(o)for(m=y-1;0<=m;m--){if(0!==M){for(d=c[m][m+1]*M,i=n;i<y;i++)x[i][m]=c[m][i]/d;for(i=n;i<y;i++){for(p=0,a=n;a<y;a++)p+=c[m][a]*x[a][i];for(a=n;a<y;a++)x[a][i]=x[a][i]+p*x[a][m]}}for(i=n;i<y;i++)x[m][i]=0,x[i][m]=0;x[m][m]=1,M=v[m],n=m}if(f){if(\"f\"===f)for(m=y;m<q;m++){for(i=y;i<q;i++)c[m][i]=0;c[m][m]=1}for(m=y-1;0<=m;m--){for(n=m+1,M=T[m],i=n;i<g;i++)c[m][i]=0;if(0!==M){for(d=c[m][m]*M,i=n;i<g;i++){for(p=0,a=n;a<q;a++)p+=c[a][m]*c[a][i];for(l=p/d,a=m;a<q;a++)c[a][i]=c[a][i]+l*c[a][m]}for(i=m;i<q;i++)c[i][m]=c[i][m]/M}else for(i=m;i<q;i++)c[i][m]=0;c[m][m]=c[m][m]+1}}for(e*=b,a=y-1;0<=a;a--)for(var k=0;k<50;k++){for(S=!1,n=a;0<=n;n--){if(Math.abs(v[n])<=e){S=!0;break}if(Math.abs(T[n-1])<=e)break}if(!S)for(h=0,s=n-(p=1),m=n;m<a+1&&(l=p*v[m],v[m]=h*v[m],!(Math.abs(l)<=e));m++)if(M=T[m],T[m]=Math.sqrt(l*l+M*M),h=M/(d=T[m]),p=-l/d,f)for(i=0;i<q;i++)u=c[i][s],w=c[i][m],c[i][s]=u*h+w*p,c[i][m]=-u*p+w*h;if(w=T[a],n===a){if(w<0&&(T[a]=-w,o))for(i=0;i<y;i++)x[i][a]=-x[i][a];break}for(b=T[n],l=(((u=T[a-1])-w)*(u+w)+((M=v[a-1])-(d=v[a]))*(M+d))/(2*d*u),M=Math.sqrt(l*l+1),l=((b-w)*(b+w)+d*(u/(l<0?l-M:l+M)-d))/b,m=n+(p=h=1);m<a+1;m++){if(M=v[m],u=T[m],d=p*M,M*=h,w=Math.sqrt(l*l+d*d),l=b*(h=l/(v[m-1]=w))+M*(p=d/w),M=-b*p+M*h,d=u*p,u*=h,o)for(i=0;i<y;i++)b=x[i][m-1],w=x[i][m],x[i][m-1]=b*h+w*p,x[i][m]=-b*p+w*h;if(w=Math.sqrt(l*l+d*d),l=(h=l/(T[m-1]=w))*M+(p=d/w)*u,b=-p*M+h*u,f)for(i=0;i<q;i++)u=c[i][m-1],w=c[i][m],c[i][m-1]=u*h+w*p,c[i][m]=-u*p+w*h}v[n]=0,v[a]=l,T[a]=b}for(m=0;m<y;m++)T[m]<e&&(T[m]=0);return{u:c,q:T,v:x}},r.VERSION=\"1.1.1\",Object.defineProperty(r,\"__esModule\",{value:!0})});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function randInt(n) {\n    return Math.floor(Math.random() * n);\n}\nexport function permutation(n) {\n    let array = Array(n).fill(0).map((x, i) => i);\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = randInt(i + 1);\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n}\nexport function times(n, func, ...args) {\n    let result = Array(n);\n    for (let i = 0; i < n; i++)\n        result[i] = func(...args);\n    return result;\n}\nexport function zeros(n) {\n    return Array(n).fill(0);\n}\nexport function vecSub(a, b) {\n    let result = Array(a.length);\n    for (let i = 0; i < result.length; i++)\n        result[i] = a[i] - b[i];\n    return result;\n}\nexport function vecAdd(a, b) {\n    let result = Array(a.length);\n    for (let i = 0; i < result.length; i++)\n        result[i] = a[i] + b[i];\n    return result;\n}\nexport function vecDot(a, b) {\n    let result = 0;\n    for (let i = 0; i < a.length; i++)\n        result += a[i] * b[i];\n    return result;\n}\nexport function vecScale(a, b) {\n    let result = Array(a.length);\n    for (let i = 0; i < result.length; i++)\n        result[i] = a[i] * b;\n    return result;\n}\nexport function zeroMat(n, m) {\n    return times(n, zeros, m);\n}\nexport function matMulInto(result, A, B) {\n    let a = A.length, b = A[0].length, c = B[0].length;\n    for (let i = 0; i < a; i++)\n        for (let k = 0; k < c; k++) {\n            let s = 0;\n            for (let j = 0; j < b; j++)\n                s += A[i][j] * B[j][k];\n            result[i][k] = s;\n        }\n}\nexport function matMul(A, B) {\n    let result = times(A.length, () => Array(B[0].length));\n    matMulInto(result, A, B);\n    return result;\n}\nexport function matTcrossprodInto(result, A, B) {\n    let a = A.length, b = A[0].length, c = B.length;\n    for (let i = 0; i < a; i++)\n        for (let k = 0; k < c; k++) {\n            let s = 0;\n            for (let j = 0; j < b; j++)\n                s += A[i][j] * B[k][j];\n            result[i][k] = s;\n        }\n}\nexport function matTcrossprod(A, B) {\n    let result = times(A.length, Array, B.length);\n    matTcrossprodInto(result, A, B);\n    return result;\n}\nexport function matAdd(A, B) {\n    let result = times(A.length, Array, A[0].length);\n    for (let i = 0; i < A.length; i++)\n        for (let j = 0; j < A[0].length; j++)\n            result[i][j] = A[i][j] + B[i][j];\n    return result;\n}\nexport function matScale(A, b) {\n    return A.map(row => row.map(value => value * b));\n}\nexport function matScaleInto(A, b) {\n    for (let i = 0; i < A.length; i++)\n        for (let j = 0; j < A[0].length; j++)\n            A[i][j] *= b;\n}\nexport function matAddInto(A, B) {\n    for (let i = 0; i < A.length; i++)\n        for (let j = 0; j < A[0].length; j++)\n            A[i][j] += B[i][j];\n}\nexport function matTranspose(A) {\n    let result = times(A[0].length, Array, A.length);\n    for (let i = 0; i < A.length; i++)\n        for (let j = 0; j < A[0].length; j++)\n            result[j][i] = A[i][j];\n    return result;\n}\nexport function removeSpin(motion, proj) {\n    /* Ensure each row of motion is in the null space of the rows of proj.\n       proj rows are assumed to be orthonormal.\n       \n       This is used to avoid adding random spin to the projection. */\n    let result = [...motion];\n    for (let i = 0; i < result.length; i++)\n        for (let j = 0; j < proj.length; j++)\n            result[i] = vecSub(result[i], vecScale(proj[j], vecDot(motion[i], proj[j])));\n    return result;\n}\n//# sourceMappingURL=math.js.map","/**** Utility functions ****/\nexport function has(object, name) {\n    return object.hasOwnProperty(name);\n}\nexport function elementVisible(el) {\n    // Check several ways of hiding an element or its parents.\n    // Hopefully this will work for slideshows.\n    let parent = el;\n    while (true) {\n        let style = window.getComputedStyle(parent);\n        if (style.opacity === \"0\" || style.display === \"none\" || style.visibility !== \"visible\")\n            return false;\n        if (!parent.parentElement)\n            break;\n        parent = parent.parentElement;\n    }\n    //https://stackoverflow.com/a/22480938    \n    let rect = el.getBoundingClientRect();\n    return rect.top < window.innerHeight && rect.bottom >= 0 &&\n        rect.left < window.innerWidth && rect.right >= 0;\n}\nexport function toggleVisible(el) {\n    if (el.style.display == \"none\")\n        el.style.display = \"block\";\n    else\n        el.style.display = \"none\";\n}\nexport function hexByte(value) {\n    value = Math.max(0, Math.min(255, Math.round(value)));\n    return (value < 16 ? '0' : '') + value.toString(16);\n}\n//# sourceMappingURL=util.js.map","/* \"Guide\" gradients for projection pursuit.\n\n   A guide is defined by a potential energy function.\n   \n   The only thing that matters for the guide is the gradient of this function.\n */\nimport { vecSub, vecDot, zeroMat, randInt, matScaleInto } from './math.js';\n/*\nI tried TensorFlow (tfjs) for gradients, but in the end did them by hand.\n\n\nfunction gradRepulsion(proj, X, power, fineScale) {\n    let k = 1000;\n    let A = Array(k);\n    \n    for(let i=0;i<k;i++) {\n        A[i] = vecSub(X[randInt(X.length)],X[randInt(X.length)]);\n    }\n\n    function objective(proj) {\n        let projA = tf.matMul(proj, tf.transpose(A));\n        \n        let l = tf.sum(tf.mul(projA,projA),0)\n        \n        l = tf.add(l, fineScale**2);\n        \n        if (power == 0)\n            l = tf.log(l)\n        else\n            l = tf.div(tf.pow(l,power),power);\n        \n        return tf.mul(tf.sum(l), -1/k);\n    }\n\n    let gradFunc = tf.grad(objective);\n    \n    function inner() {\n        let grad = gradFunc(tf.tensor(proj));\n        \n        // Don't spin.\n        let rotProj = tf.matMul([[0,-1/Math.sqrt(2)],[1/Math.sqrt(2),0]], proj);\n        let dot = tf.sum(tf.mul(grad,rotProj));\n        grad = tf.sub(grad, tf.mul(rotProj, dot));\n        \n        return grad.arraySync();\n    }\n    \n    return tf.tidy(inner);\n}\n*/\nexport function gradRepulsion(proj, X, power, fineScale, strength) {\n    /*\n    Ideally we would perform repulsion between all pairs of points. However this would be O(n^2). Instead we only do a fraction of this -- it's a stochastic gradient.\n    \n    Unfortunately this means there is a little jitter even if heat is completely turned off.\n    */\n    let iters = 5000;\n    let m = proj.length, n = proj[0].length;\n    let p = Array(m);\n    let grad = zeroMat(m, n);\n    let off1 = randInt(X.length);\n    let off2 = randInt(X.length);\n    for (let i = 0; i < iters; i++) {\n        let a = vecSub(X[(i + off1) % X.length], X[(i + off2) % X.length]);\n        for (let j = 0; j < m; j++)\n            p[j] = vecDot(a, proj[j]);\n        let scale = Math.pow((vecDot(p, p) + fineScale * fineScale), (power - 1));\n        for (let j = 0; j < m; j++)\n            for (let k = 0; k < n; k++)\n                grad[j][k] += a[k] * p[j] * scale;\n    }\n    matScaleInto(grad, -2 / iters * strength);\n    return grad;\n}\nexport function gradCentralRepulsion(proj, X, power, fineScale, strength) {\n    let m = proj.length, n = proj[0].length;\n    let p = Array(m);\n    let grad = zeroMat(m, n);\n    for (let i = 0; i < X.length; i++) {\n        let a = X[i];\n        for (let j = 0; j < m; j++)\n            p[j] = vecDot(a, proj[j]);\n        let scale = Math.pow((vecDot(p, p) + fineScale * fineScale), (power - 1));\n        for (let j = 0; j < m; j++)\n            for (let k = 0; k < n; k++)\n                grad[j][k] += a[k] * p[j] * scale;\n    }\n    matScaleInto(grad, -2 / X.length * strength);\n    return grad;\n}\n/*\nexport function gradSparseRank(proj, strength) {\n    let m = proj.length, n = proj[0].length;\n    let mag2 = zeros(n);\n    for(let i=0;i<m;i++)\n        for(let j=0;j<n;j++)\n            mag2[j] += proj[i][j]**2;\n            \n    let order = [...Array(n).keys()];\n    order.sort((i,j) => mag2[j]-mag2[i]);\n    \n    let grad = zeroMat(m,n);\n    for(let j=0;j<3;j++)\n        for(let i=0;i<m;i++)\n            grad[i][order[j]] = -strength*proj[i][order[j]];\n    \n    return grad;\n}\n*/\nexport let gradTable = {\n    //Not quite working well.\n    //Better to manually hide all but 3 axes.\n    //\"sparse\": (proj,X) => gradSparseRank(proj, 0.1),\n    \"ultralocal\": (proj, X) => gradRepulsion(proj, X, -1, 0.05, 0.01),\n    \"local\": (proj, X) => gradRepulsion(proj, X, 0, 0.01, 0.5),\n    \"pca\": (proj, X) => gradRepulsion(proj, X, 1, 0, 0.5),\n    \"outlier\": (proj, X) => gradRepulsion(proj, X, 2, 0, 5),\n    \"push\": (proj, X) => gradCentralRepulsion(proj, X, 0.5, 0.01, 0.5),\n    \"pull\": (proj, X) => gradCentralRepulsion(proj, X, 0.5, 0.01, -0.2),\n};\n//# sourceMappingURL=guides.js.map","import jstat from 'jstat';\nconst { normal } = jstat;\nimport { SVD } from 'svd-js';\nimport { rgb, scaleLinear, select, drag, interpolateViridis } from 'd3';\nimport { vecAdd, vecScale, vecDot, times, zeros, zeroMat, matAddInto, matScaleInto, matTcrossprodInto, matTranspose, matAdd, matScale, removeSpin, permutation } from './math.js';\nimport { has, elementVisible, toggleVisible, hexByte } from './util.js';\nimport { gradTable } from './guides.js';\nlet template = `~\n<div>~\n    <style>\n        /* Reset all host styling. */\n        :host {\n            all: initial;\n        }\n\n        * { font-family: sans-serif; }\n        input { vertical-align: middle; }\n        input[type=checkbox] { vertical-align: baseline; }\n        input[type=range] { width: 150px; }\n\n        .controlDiv {\n            display: none;\n            flex-wrap: wrap;\n            align-items: center;\n        }\n\n        .box {\n            background: #eee;\n            padding: 4px 6px 4px 6px;\n            margin: 4px 4px 4px 4px;\n            border-radius: 4px;\n            vertical-align: middle;\n        }\n\n        .controlButton {\n            padding: 0px;\n            margin: 4px 4px 4px 4px;\n            vertical-align: middle;\n            height: 26px;\n            width: 26px;\n        }\n\n        .infoBox {\n            visibility: hidden;\n            position: absolute;\n            left: 10px;\n            bottom: 0px;\n            padding: 8px;\n            background: #eee;\n            border: 1px solid black;\n            border-radius: 4px;\n        }\n\n        .messageArea {\n            position: absolute;\n            white-space: pre;\n            text-align: right;\n            right: 0px;\n            bottom: 0px;\n            color: #888;\n            background: #ffffffff;\n            padding: 3px;\n            border-radius: 4px;\n            display: none;\n        }\n\n        .labelDiv {\n            white-space: nowrap;\n            position: absolute;\n            border-radius: 3px;\n            padding: 2px 5px 1px 0px;\n            cursor: grab;\n            user-select: none;\n            font-size: 15px;\n        }\n\n        .labelDiv input {\n            padding: 0px;\n            margin: 0px 5px 0px 0px;\n        }\n\n        table {\n            border-spacing: 0px;\n        }\n\n        tr:hover td { background: #ddddff; }\n\n        .canvas {\n            display: block;\n        }\n    </style>~\n\n    <div style=\"position: relative\" class=plotDiv>~\n        <canvas class=canvas></canvas>~\n        <div class=messageArea></div>~\n        <div class=overlay style=\"position: absolute; left:0; top:0; display: none;\"></div>~\n        <div class=infoBox>~\n            <div><b><a href=\"https://logarithmic.net/langevitour/\" target=\"_blank\">langevitour</a></b></div>\n            <br><div><button class=infoBoxProjButton>Projection &#9662;</button></div>\n            <textarea class=infoBoxProj rows=5 cols=30 wrap=off spellcheck=false onclick=\"this.setSelectionRange(0,this.value.length,'backward');\" style=\"display: none\"></textarea>\n            <br><div><button class=infoBoxStateButton>State &#9662;</button></div>\n            <textarea class=infoBoxState rows=7 cols=30 wrap=off spellcheck=false onfocus=\"this.setSelectionRange(0,this.value.length,'backward');\" style=\"display: none\"></textarea>\n            <div class=infoBoxInfo></div>\n            <table>\n              <tr><td>Brush size</td><td><input type=range min=-1 max=1 step=0.01 value=0 class=brushInput></td></tr>\n              <tr><td>Zoom</td><td><input type=range min=-1 max=1 step=0.01 value=0 class=zoomInput></td></tr>\n              <tr><td>Damping</td><td><input type=range min=-3 max=3 step=0.01 value=0 class=dampInput></td></tr>\n              <tr><td>Heat</td><td><input type=range min=-2 max=4 step=0.01 value=0 class=heatInput></td></tr>\n              <tr><td>Label strength</td><td><input type=range min=-3 max=1 step=0.01 value=0 class=labelInput></td></tr>\n              <tr><td>Guide strength</td><td><input type=range min=-2 max=2 step=0.01 value=0 class=guideInput></td></tr>\n            </table>\n        </div>~\n    </div>~\n\n    <div class=controlDiv>~\n        <button class=\"controlButton fullscreenButton\" title=\"Full screen\">~\n            <svg  width=20 height=20 version=\"1.1\" viewBox=\"0 0 20 20\" style=\"vertical-align: middle;\">\n                <rect x=2 y=2 width=6 height=2 />\n                <rect x=2 y=2 width=2 height=6 />\n                <rect x=12 y=2 width=6 height=2 />\n                <rect x=16 y=2 width=2 height=6 />\n                <rect x=2 y=16 width=6 height=2 />\n                <rect x=2 y=12 width=2 height=6 />\n                <rect x=12 y=16 width=6 height=2 />\n                <rect x=16 y=12 width=2 height=6 />\n            </svg>~\n        </button>~\n\n        <button class=\"controlButton infoButton\" title=\"Further controls and information\">~\n            <svg viewBox=\"0 0 20 20\" width=20 height=20 style=\"vertical-align: middle;\">\n                <rect x=\"4\" y=\"5\" width=\"12\" height=\"2\"></rect>\n                <rect x=\"4\" y=\"9\" width=\"12\" height=\"2\"></rect>\n                <rect x=\"4\" y=\"13\" width=\"12\" height=\"2\"></rect>\n            </svg>\n        </button>~\n\n        <button class=\"controlButton playButton\" title=\"Play / Pause\">~\n        </button>\n\n        <div class=box>~\n            Guide\n            <select class=guideSelect value=none>\n                <optgroup label=\"Explore\">\n                    <option value=none title=\"Look at completely random projections.\">free</option>\n                </optgroup>\n                <optgroup label=\"Layout\">\n                    <option value=ultralocal title=\"Try to ensure small things don't overlap. May be unstable.\">ultralocal</option>\n                    <option value=local title=\"Try to ensure things don't overlap. A good default.\">local</option>\n                    <option value=pca title=\"Equivalent to Principal Components Analysis.\">PCA</option>\n                    <option value=outlier title=\"Find projections with some points very far from other points.\">outlier</option>\n                </optgroup>\n                <optgroup label=\"Central force\">\n                    <option value=push title=\"Push points away from the center.\">push</option>\n                    <option value=pull title=\"Pull points towards the center.\">pull</option>\n                </optgroup>\n            </select>~\n        </div>~\n\n        <div class=box><label>~\n            <input class=axesCheckbox type=checkbox checked>~\n            axes~\n        </label></div>~\n\n        <div class=box><label>\n            <input class=heatCheckbox type=checkbox checked>~\n            heat~\n        </label></div>~\n\n        <div class=box><label>~\n            <input class=labelCheckbox type=checkbox checked>~\n            label attract~\n        </label></div>~\n    </div>~\n</div>~\n`.replace(/~\\s+/g, ''); // Strip whitespace marked with initial '~'.\nlet playSvg = `<svg viewBox=\"0 0 20 20\" width=20 height=20 style=\"vertical-align: middle;\">\n    <path d=\"M 6 4 L 16 10 L 6 16 Z\">\n</svg>`;\nlet pauseSvg = `<svg viewBox=\"0 0 20 20\" width=20 height=20 style=\"vertical-align: middle;\">\n    <rect x=\"4\" y=\"4\" width=\"4\" height=\"12\"></rect>\n    <rect x=\"12\" y=\"4\" width=\"4\" height=\"12\"></rect>\n</svg>`;\n/** Class to create and animate a Langevin Tour widget\n  *\n  * Emits a \"changeFilter\" event when a label checkbox is checked/unchecked.\n  *\n  * Emits a \"changeSelection\" event when brushing occurs.\n  */\nexport class Langevitour extends EventTarget {\n    /**\n     * Create a Langevin Tour widget.\n     * @param container Element to insert widget into.\n     * @param width Desired initial width of widget.\n     * @param height Desired initial height of widget.\n     */\n    constructor(container, width, height) {\n        super();\n        this.width = 1;\n        this.height = 1;\n        this.originalWidth = 1;\n        this.originalHeight = 1;\n        this.size = 1;\n        this.pointSize = 1;\n        this.center = [];\n        this.scale = [];\n        this.X = [[], []];\n        this.n = 0;\n        this.m = 0;\n        this.colnames = [];\n        this.permutor = [];\n        this.unpermutor = [];\n        this.rownames = [];\n        this.group = [];\n        this.levels = [];\n        this.levelColors = [];\n        this.lineFrom = [];\n        this.lineTo = [];\n        this.lineColors = [];\n        this.fills = [];\n        //Filters from outside, primarily to support \"crosstalk\"\n        this.filter = null;\n        //Selection both from crosstalk and internal\n        this.selection = null;\n        this.selectionChanged = false; // Do we need to emit a changeSelection event -- delayed to mouse up\n        this.axes = [];\n        this.labelData = [];\n        // State of the system!\n        this.proj = [[], []];\n        this.vel = [[], []];\n        this.zoom = 1;\n        this.xScaleUnit = scaleLinear(); // Used for labels\n        this.yScaleUnit = scaleLinear();\n        this.xScale = scaleLinear(); // Used for points\n        this.yScale = scaleLinear();\n        this.xScaleClamped = scaleLinear();\n        this.yScaleClamped = scaleLinear();\n        this.haveData = false;\n        this.playing = true;\n        this.frameScheduled = false;\n        this.lastTime = 0; // Last frame time, in seconds. Set to zero to cause no step on the next frame.\n        this.mouseInCheckbox = false; // Track is mouse in checkbox. Do not drag if in checkbox.\n        this.dragging = false; // Used to avoid dragging from checkbox. Also adjusts physics during drag.\n        this.fps = []; // FPS for up to the last 100 frames\n        this.computeMessage = \"\"; // Warnings such as hiding too many variables.\n        this.mousing = false; // Should overlay be visible?\n        this.mouseDown = false; // While this mouse is down, the selection continues to be updated.\n        this.mouseWentDown = false; // Set when mouse button goes down. Unset once selection updated.\n        this.mouseShiftKey = false; // Shift was pressed at mouse down, we want to extend the current selection.\n        this.mouseX = 0; // Used to display row names\n        this.mouseY = 0; // Used to display row names\n        // Only used during doFrame.\n        // Properties only to avoid re-allocation.\n        this.xy = [[], []];\n        this.fillsFrame = [];\n        this.pointActive = [];\n        // Set up elements in a shadow DOM to isolate from document style.\n        // The extra div seems necessary to avoid weird shrinkage with resizing.\n        this.container = container;\n        let div = document.createElement(\"div\");\n        this.container.appendChild(div);\n        this.shadow = div.attachShadow({ mode: 'open' });\n        this.shadow.innerHTML = template;\n        this.shadowChild = this.shadow.firstChild;\n        this.canvas = this.get('canvas');\n        this.overlay = this.get('overlay');\n        // Allow this to be found using document.getElementById(name).langevitour\n        // @ts-ignore\n        this.container.langevitour = this;\n        this.resize(width, height);\n        // Track mouse:\n        // svg overlay only appears when mouse in plot area\n        // row name labels use mouse position\n        let plotDiv = this.get('plotDiv');\n        plotDiv.addEventListener('mouseover', (e) => {\n            this.mousing = true;\n            this.scheduleFrameIfNeeded();\n        });\n        plotDiv.addEventListener('mouseout', (e) => {\n            this.mousing = false;\n            this.mouseDown = false;\n            this.scheduleFrameIfNeeded();\n        });\n        plotDiv.addEventListener('mousemove', (e) => {\n            let rect = plotDiv.getBoundingClientRect();\n            this.mouseX = e.x - rect.left;\n            this.mouseY = e.y - rect.top;\n            this.scheduleFrameIfNeeded();\n        });\n        plotDiv.addEventListener('mousedown', (e) => {\n            if (!e.target.classList.contains(\"overlay\"))\n                return;\n            let el = this.get('infoBox');\n            if (el.style.visibility == 'visible') {\n                el.style.visibility = 'hidden';\n                return;\n            }\n            this.mouseDown = true;\n            this.mouseWentDown = true;\n            this.mouseShiftKey = e.shiftKey;\n            this.scheduleFrameIfNeeded();\n        });\n        plotDiv.addEventListener('mouseup', (e) => {\n            this.mouseDown = false;\n            this.scheduleFrameIfNeeded();\n        });\n        // Hide fullscreen button if not available\n        if (this.container.requestFullscreen == null)\n            this.get('fullscreenButton').style.display = 'none';\n        // Handle fullscreen\n        this.get('fullscreenButton').addEventListener('click', () => {\n            if (!document.fullscreenElement) {\n                this.shadowChild.requestFullscreen();\n            }\n            else if (document.exitFullscreen) {\n                document.exitFullscreen();\n            }\n        });\n        this.shadowChild.addEventListener('fullscreenchange', () => {\n            let el = this.shadowChild;\n            if (document.fullscreenElement) {\n                this.originalWidth = this.width;\n                this.originalHeight = this.height;\n                let pad = Math.max(0, el.offsetWidth - el.offsetHeight) / 2;\n                el.style.paddingLeft = pad + 'px';\n                this.width = el.offsetWidth - pad;\n                this.height = el.offsetHeight;\n                this.configure();\n            }\n            else {\n                el.style.paddingLeft = '0px';\n                this.width = this.originalWidth;\n                this.height = this.originalHeight;\n                this.configure();\n            }\n        });\n        // Info box\n        this.get('infoButton').addEventListener('click', () => {\n            let el = this.get('infoBox');\n            if (el.style.visibility == 'visible' || !this.haveData) {\n                el.style.visibility = 'hidden';\n            }\n            else {\n                el.style.visibility = 'visible';\n                this.get('infoBoxProj').style.display = 'none';\n                this.get('infoBoxState').style.display = 'none';\n                this.get('infoBoxInfo').innerHTML = `<p>${this.X.length.toLocaleString(\"en-US\")} points.</p>`;\n            }\n        });\n        this.get('infoBoxProjButton').addEventListener('click', () => {\n            let el = this.getInput('infoBoxProj');\n            toggleVisible(el);\n            if (el.style.display != 'none') {\n                let matStr = 'projection <- cbind(\\n    c(';\n                matStr += this.proj.map(line => line.map((item, i) => (item / this.scale[i]).toFixed(Math.ceil(Math.log10(Math.max(0, this.scale[i])) + 4))).join(',')).join('),\\n    c(');\n                matStr += '))\\nprojected <- as.matrix(X) %*% projection';\n                this.getInput('infoBoxProj').value = matStr;\n            }\n        });\n        this.get('infoBoxStateButton').addEventListener('click', () => {\n            let el = this.getInput('infoBoxState');\n            toggleVisible(el);\n            if (el.style.display != 'none')\n                el.value = JSON.stringify(this.getState(), null, 4);\n        });\n        // Play button\n        this.get('playButton').addEventListener('click', () => this.setState({ playing: !this.playing }));\n    }\n    get(className) {\n        return this.shadowChild.getElementsByClassName(className)[0];\n    }\n    getInput(className) {\n        return this.get(className);\n    }\n    getString(className) {\n        return this.getInput(className).value;\n    }\n    getNumber(className) {\n        return Number(this.getInput(className).value);\n    }\n    getChecked(className) {\n        return this.getInput(className).checked;\n    }\n    /* Notify listeners of label checkbox change. */\n    emitChangeFilter() {\n        setTimeout(() => this.dispatchEvent(new Event(\"changeFilter\")), 0);\n    }\n    emitChangeSelectionIfNeeded() {\n        if (!this.selectionChanged)\n            return;\n        this.selectionChanged = false;\n        setTimeout(() => this.dispatchEvent(new Event(\"changeSelection\")), 0);\n    }\n    /**\n     * Show data in the widget. Use \"null\" to clear the widget.\n     *\n     * data.X A row-major matrix, where each row represents a point and each column represents a variable.\n     *\n     * data.colnames A name for each column in X.\n     *\n     * data.group Group number for each point. Integer values starting from 0.\n     *\n     * data.levels Group names for each group in data.group.\n     *\n     * [data.scale] Scale for each column.\n     *\n     * [data.center] Center for each column.\n     *\n     * [data.rownames] A name for each point.\n     *\n     * [data.extraAxes] A matrix with each column defining a projection of interest.\n     *\n     * [data.extraAxesNames] A name for each extra axis.\n     *\n     * [data.lineFrom] Rows of X to draw lines from.\n     *\n     * [data.lineTo] Rows of X to draw lines to.\n     *\n     * [data.lineColors] Color for each line.\n     *\n     * [data.axisColors] CSS colors for each variable and then optionally for each extra axis.\n     *\n     * [data.levelColors] CSS colors for each level.\n     *\n     * [data.colorVariation] Amount of brightness variation of points, between 0 and 1.\n     *\n     * [data.pointSize] Radius of points in pixels.\n     *\n     * [data.state] State to be passed on to setState().\n     */\n    renderValue(data) {\n        if (!data) {\n            this.haveData = false;\n            this.configure();\n            return;\n        }\n        this.haveData = true;\n        //TODO: checking\n        this.n = data.X.length;\n        this.m = data.X[0].length;\n        this.pointSize = data.pointSize != null ? data.pointSize : 1;\n        let axisColors = data.axisColors || [];\n        this.center = data.center || Array(this.m).fill(0);\n        this.scale = data.scale || Array(this.m).fill(1);\n        // Shuffling is not optional.\n        this.permutor = permutation(this.n);\n        this.unpermutor = Array(this.n);\n        for (let i = 0; i < this.n; i++)\n            this.unpermutor[this.permutor[i]] = i;\n        this.X = this.permutor.map(i => data.X[i]);\n        // Store data internally in centered and scaled form.\n        this.X = this.X.map(item => item.map((value, i) => (value - this.center[i]) / this.scale[i]));\n        if (!data.rownames || data.rownames.length == 0) {\n            this.rownames = [];\n        }\n        else {\n            let rownames = data.rownames;\n            this.rownames = this.permutor.map(i => rownames[i]);\n        }\n        this.colnames = data.colnames;\n        this.lineFrom = (data.lineFrom || []).map(i => this.unpermutor[i]);\n        this.lineTo = (data.lineTo || []).map(i => this.unpermutor[i]);\n        this.lineColors = (data.lineColors || []);\n        // Default to semi-transparent black lines\n        if (this.lineFrom.length && !this.lineColors.length)\n            this.lineColors = this.lineFrom.map(() => \"#00000088\");\n        this.axes = [];\n        if (data.extraAxes && data.extraAxesNames)\n            for (let i = 0; i < data.extraAxes[0].length; i++) {\n                let proj = data.extraAxes.map(row => row[i]);\n                let center = vecDot(proj, this.center);\n                let projFromScaled = proj.map((value, j) => value * this.scale[j]);\n                let scale = Math.sqrt(vecDot(projFromScaled, projFromScaled));\n                let unit = vecScale(projFromScaled, 1 / scale);\n                this.axes.push({\n                    name: data.extraAxesNames[i],\n                    unit: unit,\n                    scale: scale,\n                    center: center,\n                    color: axisColors[i + this.m],\n                    proj: [] //Filled in below.\n                });\n            }\n        for (let i = 0; i < this.m; i++) {\n            let unit = zeros(this.m);\n            unit[i] = 1;\n            this.axes.push({\n                name: data.colnames[i],\n                center: this.center[i],\n                scale: this.scale[i],\n                unit: unit,\n                color: axisColors[i],\n                proj: [] //Filled in below.\n            });\n        }\n        // Precompute projection of all data onto all axes\n        for (let i = 0; i < this.axes.length; i++) {\n            this.axes[i].proj = this.X.map(vec => vecDot(vec, this.axes[i].unit));\n        }\n        this.levels = data.levels;\n        this.group = this.permutor.map(i => data.group[i]);\n        let nGroups = this.levels.length;\n        this.levelColors = (data.levelColors || []).slice();\n        // Pick a palette if not given\n        for (let i = this.levelColors.length; i < nGroups; i++) {\n            let angle = (i + 1 / 3) / nGroups;\n            let value = 104;\n            let r = value * (1 + Math.cos(angle * Math.PI * 2));\n            let g = value * (1 + Math.cos((angle + 1 / 3) * Math.PI * 2));\n            let b = value * (1 + Math.cos((angle + 2 / 3) * Math.PI * 2));\n            this.levelColors[i] = rgb(r, g, b).formatHex();\n        }\n        // Point colors are given a small back-to-front brightness gradient,\n        // to add some variation and give a pseudo-3D effect.\n        let colorVariation = data.colorVariation == null ? 0.3 : data.colorVariation;\n        this.fills = [];\n        for (let i = 0; i < this.n; i++) {\n            let pointColor = rgb(this.levelColors[this.group[i]]);\n            let value = 1 + colorVariation * (i / this.n * 2 - 1);\n            pointColor.r *= value;\n            pointColor.g *= value;\n            pointColor.b *= value;\n            this.fills[i] = pointColor.formatHex();\n        }\n        this.labelData = [];\n        if (this.levels.length > 1)\n            for (let i = 0; i < this.levels.length; i++) {\n                let vec = zeros(this.m);\n                for (let j = 0; j < this.n; j++)\n                    if (this.group[j] == i)\n                        vec = vecAdd(vec, this.X[j]);\n                vec = vecScale(vec, 1 / Math.sqrt(vecDot(vec, vec)));\n                this.labelData.push({\n                    type: 'level',\n                    index: i,\n                    label: this.levels[i],\n                    vec: vec,\n                    color: this.levelColors[i],\n                    active: true,\n                    x: 2, y: 0,\n                    halfWidth: 0, halfHeight: 0, selected: 0,\n                });\n            }\n        for (let i = 0; i < this.axes.length; i++) {\n            this.labelData.push({\n                type: 'axis',\n                index: i,\n                label: this.axes[i].name,\n                vec: this.axes[i].unit,\n                color: this.axes[i].color || '#000000',\n                active: true,\n                x: 2, y: 0,\n                halfWidth: 0, halfHeight: 0, selected: 0,\n            });\n        }\n        // Set initial projection state\n        this.proj = zeroMat(2, this.m);\n        this.proj[0][0] = 1;\n        this.proj[1][1] = 1;\n        this.vel = zeroMat(2, this.m);\n        // Only used in doFrame. However this is a fairly large amount of memory that needs to be used each time.\n        this.xy = zeroMat(2, this.n);\n        this.fillsFrame = Array(this.n).fill(\"\");\n        this.pointActive = Array(this.n).fill(true);\n        this.configure();\n        if (data.state)\n            this.setState(data.state);\n    }\n    /**\n     * Resize the widget.\n     *\n     * Ignored if widget has gone full-screen.\n     *\n     * @param {number} width New width.\n     * @param {number} height New height.\n     */\n    resize(width, height) {\n        // At least in pkgdown vignettes, we get weird resize requests while fullscreen.\n        if (document.fullscreenElement)\n            return;\n        this.width = Math.max(200, width);\n        this.height = Math.max(200, height);\n        this.configure();\n    }\n    configure() {\n        this.canvas.style.width = this.width + 'px';\n        this.overlay.style.width = this.width + 'px';\n        // Scrollbars will appear if very small\n        let controlHeight = this.get('controlDiv').offsetHeight + 5;\n        this.size = Math.max(100, Math.min(this.width - 100, this.height - controlHeight));\n        this.canvas.style.height = this.size + 'px';\n        this.overlay.style.height = this.size + 'px';\n        this.get('playButton').innerHTML = this.playing ? pauseSvg : playSvg;\n        // Clean up and return if no data.\n        if (!this.haveData) {\n            // Clear any old display\n            this.get('messageArea').innerText = '';\n            this.overlay.style.opacity = \"0\";\n            let ctx = this.canvas.getContext(\"2d\");\n            ctx.scale(1, 1);\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            return;\n        }\n        this.configureScales();\n        /* Draggable labels */\n        let overlay = select(this.overlay);\n        overlay.selectAll('*').remove();\n        this.mouseInCheckbox = false;\n        let thys = this; //sigh\n        let divs = overlay\n            .selectAll('div')\n            .data(this.labelData)\n            .join(enter => {\n            let div = enter.append('div')\n                .classed('labelDiv', true);\n            div.append('input')\n                .attr('type', 'checkbox')\n                .property('checked', d => d.active)\n                .on('change', function (e, d) {\n                d.active = this.checked;\n                thys.emitChangeFilter();\n            })\n                .on('mouseover', () => { this.mouseInCheckbox = true; })\n                .on('mouseout', () => { this.mouseInCheckbox = false; });\n            div.append('span');\n            return div;\n        });\n        divs\n            .style('cursor', 'grab')\n            .on('mouseover', (e, d) => { d.selected += 1; refreshLabels(); })\n            .on('mouseout', (e, d) => { d.selected = Math.max(0, d.selected - 1); refreshLabels(); });\n        divs\n            .select('span')\n            .text(d => d.label)\n            .style('color', d => d.color);\n        divs.each(function (d) {\n            d.halfWidth = this.offsetWidth / 2;\n            d.halfHeight = this.offsetHeight / 2;\n        });\n        function refreshLabels() {\n            let maxX = thys.xScaleUnit.invert(thys.width);\n            for (let item of thys.labelData) {\n                item.x = Math.max(-1, Math.min(maxX, item.x));\n                item.y = Math.max(-1, Math.min(1, item.y));\n            }\n            divs\n                .style('left', d => thys.xScaleUnit(d.x) - d.halfWidth + 'px')\n                .style('top', d => thys.yScaleUnit(d.y) - d.halfHeight + 'px')\n                .style('background', d => d.selected ? '#aaa' : '#ddd');\n        }\n        let makeDraggable = drag()\n            .subject(function (e, d) {\n            return { x: e.x, y: e.y };\n        })\n            .on('start', function (e, d) {\n            // Do not drag checkbox.\n            if (thys.mouseInCheckbox)\n                return;\n            thys.dragging = true;\n            this.style.cursor = 'grabbing';\n            d.selected += 1;\n        })\n            .on('drag', function (e, d) {\n            // We decided not to drag because we started on the checkbox.\n            if (!thys.dragging)\n                return;\n            d.x = thys.xScaleUnit.invert(e.x);\n            d.y = thys.yScaleUnit.invert(e.y);\n            refreshLabels();\n        })\n            .on('end', function (e, d) {\n            if (!thys.dragging)\n                return;\n            thys.dragging = false;\n            this.style.cursor = 'grab';\n            d.selected = Math.max(0, d.selected - 1);\n        });\n        makeDraggable(divs);\n        /* Set all as not selected.\n           Reposition labels that are not currently in use. */\n        let cols = Math.ceil((25 * this.labelData.length) / (this.size - 40));\n        for (let i = 0; i < this.labelData.length; i++) {\n            let d = this.labelData[i];\n            d.selected = 0;\n            if (d.x < 1)\n                continue;\n            let col = i % cols, row = (i - col) / cols;\n            d.x = this.xScaleUnit.invert(this.size + 10 + d.halfWidth + (i % cols) * (this.width - this.size - 10) / cols);\n            d.y = this.yScaleUnit.invert(20 + row * 25);\n        }\n        refreshLabels();\n        this.scheduleFrameIfNeeded();\n    }\n    configureScales() {\n        this.zoom = Math.pow(10, -this.getNumber('zoomInput'));\n        this.xScaleUnit = scaleLinear()\n            .domain([-1, 1]).range([2.5, this.size - 2.5]);\n        this.yScaleUnit = scaleLinear()\n            .domain([-1, 1]).range([this.size - 2.5, 2.5]);\n        this.xScale = scaleLinear()\n            .domain([-this.zoom, this.zoom]).range([2.5, this.size - 2.5]);\n        this.yScale = scaleLinear()\n            .domain([-this.zoom, this.zoom]).range([this.size - 2.5, 2.5]);\n        this.xScaleClamped = this.xScale.copy().clamp(true);\n        this.yScaleClamped = this.yScale.copy().clamp(true);\n    }\n    /**\n     * Get the current widget state.\n     */\n    getState() {\n        let result = {};\n        result.playing = this.playing;\n        result.axesOn = this.getChecked('axesCheckbox');\n        result.heatOn = this.getChecked('heatCheckbox');\n        result.guideType = this.getString('guideSelect');\n        result.labelAttractionOn = this.getChecked('labelCheckbox');\n        result.damping = this.getNumber('dampInput');\n        result.heat = this.getNumber('heatInput');\n        result.guide = this.getNumber('guideInput');\n        result.labelAttraction = this.getNumber('labelInput');\n        result.zoom = this.getNumber('zoomInput');\n        result.brush = this.getNumber('brushInput');\n        result.labelInactive = [];\n        result.labelPos = {};\n        for (let item of this.labelData) {\n            if (!item.active)\n                result.labelInactive.push(item.label);\n            if (item.x < 1)\n                result.labelPos[item.label] = [item.x, item.y];\n        }\n        result.projection = this.proj;\n        // Potentially large.\n        if (this.selection)\n            result.selection = this.unpermutor.map(i => this.selection[i]);\n        else\n            result.selection = null;\n        // Potentially large.\n        if (this.filter)\n            result.filter = this.unpermutor.map(i => this.filter[i]);\n        else\n            result.filter = null;\n        return result;\n    }\n    /**\n     * Set the widget state.\n     *\n     * Can be used to restore a previous state of the widget obtained with getState().\n     *\n     * @param state A JSON string or an Object containing the desired state.\n     */\n    setState(state) {\n        let needChangeFilter = false;\n        let needChangeSelection = false;\n        if (typeof state == \"string\")\n            state = JSON.parse(state);\n        if (!state)\n            return;\n        if (has(state, 'playing')) {\n            // Don't leap forward in time when we start playing again.\n            if (!this.playing && state.playing)\n                this.lastTime = 0;\n            this.playing = state.playing;\n        }\n        if (has(state, 'axesOn'))\n            this.getInput('axesCheckbox').checked = state.axesOn;\n        if (has(state, 'heatOn'))\n            this.getInput('heatCheckbox').checked = state.heatOn;\n        // Old\n        if (has(state, 'pointRepulsionType'))\n            this.getInput('guideSelect').value = state.pointRepulsionType;\n        // New\n        if (has(state, 'guideType'))\n            this.getInput('guideSelect').value = state.guideType;\n        if (has(state, 'labelAttractionOn'))\n            this.getInput('labelCheckbox').checked = state.labelAttractionOn;\n        if (has(state, 'damping'))\n            this.getInput('dampInput').value = state.damping;\n        if (has(state, 'heat'))\n            this.getInput('heatInput').value = state.heat;\n        // Old\n        if (has(state, 'pointRepulsion'))\n            this.getInput('guideInput').value = state.pointRepulsion;\n        // New\n        if (has(state, 'guide'))\n            this.getInput('guideInput').value = state.guide;\n        if (has(state, 'labelAttraction'))\n            this.getInput('labelInput').value = state.labelAttraction;\n        if (has(state, 'zoom'))\n            this.getInput('zoomInput').value = state.zoom;\n        if (has(state, 'brush'))\n            this.getInput('brushInput').value = state.brush;\n        if (has(state, 'labelInactive')) {\n            for (let item of this.labelData)\n                item.active = !state.labelInactive.includes(item.label);\n            needChangeFilter = true;\n        }\n        if (has(state, 'labelPos')) {\n            for (let item of this.labelData) {\n                if (has(state.labelPos, item.label)) {\n                    item.x = state.labelPos[item.label][0];\n                    item.y = state.labelPos[item.label][1];\n                }\n                else {\n                    item.x = 1;\n                }\n            }\n        }\n        if (has(state, 'projection'))\n            this.proj = Array.from(state.projection.map(item => Array.from(item)));\n        if (has(state, 'selection')) {\n            if (state.selection === null)\n                this.selection = null;\n            else\n                this.selection = this.permutor.map(i => state.selection[i]);\n            this.selectionChanged = true;\n            needChangeSelection = true;\n        }\n        if (has(state, 'filter')) {\n            if (state.filter === null)\n                this.filter = null;\n            else\n                this.filter = this.permutor.map(i => state.filter[i]);\n        }\n        this.configure();\n        if (needChangeFilter)\n            this.emitChangeFilter();\n        if (needChangeSelection)\n            this.emitChangeSelectionIfNeeded();\n    }\n    scheduleFrameIfNeeded() {\n        if (this.frameScheduled || !this.haveData)\n            return;\n        window.requestAnimationFrame(this.doFrame.bind(this));\n        this.frameScheduled = true;\n    }\n    /*  Update display.\n\n        Also updates selection if mouse is down.\n\n        Also schedules another frame if needed.\n     */\n    doFrame(time) {\n        this.frameScheduled = false;\n        if (!this.haveData)\n            return;\n        time /= 1000.0; //Convert to seconds\n        let elapsed = 0;\n        if (this.playing && this.lastTime != 0) {\n            elapsed = time - this.lastTime;\n            this.fps.push(Math.round(1 / elapsed));\n            if (this.fps.length > 100)\n                this.fps.shift();\n        }\n        this.lastTime = time;\n        this.compute(elapsed);\n        this.configureScales();\n        let selectedAxis = null;\n        let selectedLevel = null;\n        let selected = this.labelData.filter(d => d.selected);\n        if (selected.length) {\n            if (selected[0].type == 'axis')\n                selectedAxis = selected[0].index;\n            else\n                selectedLevel = selected[0].index;\n        }\n        let showAxes = this.getChecked('axesCheckbox');\n        let levelActive = Array(this.levels.length).fill(true);\n        for (let item of this.labelData)\n            if (item.type == 'level')\n                levelActive[item.index] = item.active;\n        // Note: pointActive is updated in compute.\n        // Points within brush distance, for brushing and row label\n        let brushRadius = this.size * 0.05 * Math.pow(10, this.getNumber('brushInput'));\n        let brushPoints = [];\n        if (this.mouseX < this.size) {\n            for (let i = 0; i < this.n; i++) {\n                if (!this.pointActive[i])\n                    continue;\n                let d2 = Math.pow((this.xScaleClamped(this.xy[0][i]) - this.mouseX), 2) +\n                    Math.pow((this.yScaleClamped(this.xy[1][i]) - this.mouseY), 2);\n                if (d2 > Math.pow(brushRadius, 2))\n                    continue;\n                brushPoints.push({ index: i, d2: d2 });\n            }\n            brushPoints.sort((a, b) => a.d2 - b.d2);\n        }\n        // Update selection.\n        // This is kind of an odd place to do this.\n        if (this.mouseDown || this.mouseWentDown) {\n            // Clear selection on mouse down unless shift was pressed.\n            if (this.mouseWentDown && !this.mouseShiftKey) {\n                this.selection = null;\n                this.selectionChanged = true;\n            }\n            if (brushPoints.length) {\n                if (!this.selection) {\n                    this.selection = Array(this.n).fill(false);\n                    this.selectionChanged = true;\n                }\n                for (let i = 0; i < brushPoints.length; i++) {\n                    if (!this.selection[brushPoints[i].index]) {\n                        this.selection[brushPoints[i].index] = true;\n                        this.selectionChanged = true;\n                    }\n                }\n            }\n            this.mouseWentDown = false;\n            //Note: at end of this function, we decide if it's time to emit a changeSelection event\n        }\n        this.overlay.style.opacity = this.mousing ? \"1\" : \"0\";\n        // Setup canvas and get context\n        // Adjust for HiDPI screens and zoom level\n        // see https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\n        let ratio = window.devicePixelRatio;\n        this.canvas.width = Math.floor(this.width * ratio);\n        this.canvas.height = Math.floor(this.size * ratio);\n        let ctx = this.canvas.getContext(\"2d\");\n        ctx.scale(ratio, ratio);\n        ctx.clearRect(0, 0, this.width, this.size);\n        let rx = this.xScale.range(), ry = this.yScale.range();\n        ctx.strokeStyle = '#000';\n        ctx.fillStyle = '#fff';\n        ctx.fillRect(rx[0], ry[0], rx[1] - rx[0], ry[1] - ry[0]);\n        ctx.strokeRect(rx[0], ry[0], rx[1] - rx[0], ry[1] - ry[0]);\n        // Axes\n        let axisScale = 0.75 * this.zoom;\n        ctx.strokeStyle = '#ccc';\n        if (showAxes)\n            for (let i = 0; i < this.axes.length; i++) {\n                let xProj = vecDot(this.proj[0], this.axes[i].unit);\n                let yProj = vecDot(this.proj[1], this.axes[i].unit);\n                ctx.beginPath();\n                ctx.moveTo(this.xScale(0), this.yScale(0));\n                ctx.lineTo(this.xScale(axisScale * xProj), this.yScale(axisScale * yProj));\n                ctx.stroke();\n            }\n        // Projection\n        matTcrossprodInto(this.xy, this.proj, this.X);\n        // Lines\n        for (let i = 0; i < this.lineFrom.length; i++) {\n            let a = this.lineFrom[i], b = this.lineTo[i];\n            if (!this.pointActive[a] || !this.pointActive[b])\n                continue;\n            ctx.strokeStyle = (!this.selection || (this.selection[a] && this.selection[b])) ? this.lineColors[i] : '#bbbbbb';\n            // Make short lines thicker so they have equal visual weight to longer lines\n            // Clipped for d < 1/4, d > 1\n            let d = Math.sqrt(Math.pow((this.xy[0][a] - this.xy[0][b]), 2) + Math.pow((this.xy[1][a] - this.xy[1][b]), 2));\n            d = Math.max(1 / 4, Math.min(1, d));\n            ctx.lineWidth = 0.25 / d;\n            ctx.beginPath();\n            ctx.moveTo(this.xScaleClamped(this.xy[0][a]), this.yScaleClamped(this.xy[1][a]));\n            ctx.lineTo(this.xScaleClamped(this.xy[0][b]), this.yScaleClamped(this.xy[1][b]));\n            ctx.stroke();\n        }\n        ctx.lineWidth = 1;\n        // Points\n        // Default to group colors\n        for (let i = 0; i < this.n; i++)\n            this.fillsFrame[i] = this.fills[i];\n        // If a crosstalk selection is active, gray the inactive points\n        if (this.selection) {\n            for (let i = 0; i < this.n; i++) {\n                if (!this.selection[i])\n                    this.fillsFrame[i] = '#bbbbbb';\n            }\n        }\n        // If we're mousing over a level, gray the other levels\n        if (selectedLevel !== null && levelActive[selectedLevel]) {\n            for (let i = 0; i < this.n; i++) {\n                if (this.group[i] != selected[0].index)\n                    this.fillsFrame[i] = '#bbbbbb';\n            }\n        }\n        // If we're mousing over an axis, color by position on axis\n        if (selectedAxis !== null) {\n            for (let i = 0; i < this.n; i++) {\n                let c = this.axes[selectedAxis].proj[i];\n                c = Math.tanh(c * 2); // Extreme values compressed so -1<c<1\n                this.fillsFrame[i] = interpolateViridis(c * 0.5 + 0.5);\n            }\n        }\n        // Draw points that aren't hidden\n        let size = this.pointSize;\n        for (let i = 0; i < this.n; i++) {\n            if (this.pointActive[i]) {\n                ctx.fillStyle = this.fillsFrame[i];\n                ctx.fillRect(this.xScaleClamped(this.xy[0][i]) - size, this.yScaleClamped(this.xy[1][i]) - size, size * 2, size * 2);\n            }\n        }\n        // If we're mousing over an axis, draw a rug for the axis\n        if (showAxes && selectedAxis !== null) {\n            //ctx.strokeStyle = '#00000022';\n            let xProj = vecDot(this.proj[0], this.axes[selectedAxis].unit);\n            let yProj = vecDot(this.proj[1], this.axes[selectedAxis].unit);\n            let ox = [\n                vecDot(this.proj[1], this.axes[selectedAxis].unit),\n                -vecDot(this.proj[0], this.axes[selectedAxis].unit)\n            ];\n            ox = vecScale(ox, 0.03 / Math.max(1e-30, Math.sqrt(vecDot(ox, ox)))); //Avoid very occasional divide by zero\n            // Hack to speed up rug drawing by rounding positions,\n            // then only drawing each position once.\n            let rug = new Map();\n            let rounding = this.size / this.zoom;\n            for (let i = 0; i < this.n; i++) {\n                if (!this.pointActive[i])\n                    continue;\n                let proj = this.axes[selectedAxis].proj[i];\n                rug.set(Math.round(proj * rounding) / rounding, this.fillsFrame[i]);\n            }\n            for (let [proj, fill] of rug) {\n                let p = [xProj * proj, yProj * proj];\n                let pA = vecAdd(p, ox);\n                let pB = vecAdd(p, vecScale(ox, -1));\n                ctx.strokeStyle = fill;\n                ctx.beginPath();\n                ctx.moveTo(this.xScaleClamped(pA[0]), this.yScaleClamped(pA[1]));\n                ctx.lineTo(this.xScaleClamped(pB[0]), this.yScaleClamped(pB[1]));\n                ctx.stroke();\n            }\n        }\n        // Brushing indicator\n        if (this.mousing && brushPoints.length) {\n            ctx.fillStyle = '#0000ff11';\n            ctx.beginPath();\n            ctx.arc(this.mouseX, this.mouseY, brushRadius, 0, 2 * Math.PI, false);\n            ctx.fill();\n        }\n        //Text section\n        ctx.save();\n        ctx.textAlign = 'center';\n        ctx.textBaseline = 'middle';\n        ctx.lineJoin = 'round';\n        ctx.lineWidth = 5;\n        // Axis labels\n        if (showAxes)\n            for (let i = 0; i < this.axes.length; i++) {\n                let xProj = vecDot(this.proj[0], this.axes[i].unit);\n                let yProj = vecDot(this.proj[1], this.axes[i].unit);\n                if (this.axes[i].color) {\n                    ctx.strokeStyle = '#fff';\n                    ctx.fillStyle = this.axes[i].color;\n                }\n                else {\n                    let r2 = xProj * xProj + yProj * yProj;\n                    let alpha = (i == selectedAxis ? '' : hexByte(r2 * 2 * 355));\n                    ctx.strokeStyle = '#ffffff' + alpha;\n                    ctx.fillStyle = '#000000' + alpha;\n                }\n                if (i === selectedAxis) {\n                    let ticks = scaleLinear()\n                        .domain([this.axes[i].center - this.axes[i].scale * axisScale, this.axes[i].center + this.axes[i].scale * axisScale])\n                        .range([-axisScale, axisScale])\n                        .ticks(5);\n                    ctx.font = `12px sans-serif`;\n                    for (let value of ticks) {\n                        let scaled = (value - this.axes[i].center) / this.axes[i].scale;\n                        ctx.strokeText(`${value}`, this.xScale(scaled * xProj), this.yScale(scaled * yProj));\n                        ctx.fillText(`${value}`, this.xScale(scaled * xProj), this.yScale(scaled * yProj));\n                    }\n                }\n                /*if (selectedAxis != null) {\n                    let similarity = vecDot(this.axes[i].unit, this.axes[selectedAxis].unit)*0.5+0.5;\n                    ctx.fillStyle = interpolateViridis(similarity);\n                    ctx.strokeStyle = '#fff';\n                }*/\n                ctx.font = `15px sans-serif`;\n                ctx.strokeText(this.axes[i].name, this.xScale(axisScale * xProj), this.yScale(axisScale * yProj));\n                ctx.fillText(this.axes[i].name, this.xScale(axisScale * xProj), this.yScale(axisScale * yProj));\n            }\n        // Row label\n        if (this.mousing && this.rownames.length) {\n            ctx.font = `15px sans-serif`;\n            ctx.strokeStyle = `#fff`;\n            ctx.fillStyle = `#000`;\n            for (let i = Math.min(brushPoints.length, 1) - 1; i >= 0; i--) {\n                let j = brushPoints[i].index;\n                let x = this.xScaleClamped(this.xy[0][j]), y = this.yScaleClamped(this.xy[1][j]);\n                ctx.strokeText(this.rownames[j], x, y);\n                ctx.fillText(this.rownames[j], x, y);\n            }\n        }\n        ctx.restore();\n        //Legend\n        ctx.textAlign = 'left';\n        ctx.textBaseline = 'middle';\n        ctx.font = '15px sans-serif';\n        if (!this.mousing)\n            for (let i = 0, j = 0; i < this.levels.length; i++)\n                if (levelActive[i]) {\n                    ctx.fillStyle = this.levelColors[i];\n                    ctx.fillText(this.levels[i], this.size + 10, 11 + j * 20);\n                    j++;\n                }\n        //Hints and messages text\n        let hint = '';\n        if (this.mouseInCheckbox && selected.length) {\n            if (selected[0].active)\n                hint = \"click to hide\\n\";\n            else\n                hint = \"click to show\\n\";\n        }\n        else if (selectedAxis !== null || selectedLevel !== null) {\n            hint = \"drag to position\\n\";\n        }\n        else if (brushPoints.length && !this.mouseDown) {\n            if (this.selection)\n                hint = \"shift+click to enlarge\\n\";\n            else\n                hint = \"click to select\\n\";\n        }\n        else if (this.selection && this.mousing && !brushPoints.length && !this.mouseDown) {\n            hint = \"click to clear\\n\";\n        }\n        this.get('messageArea').innerText = `${this.computeMessage || hint}${Math.min(...this.fps)} to ${Math.max(...this.fps)} FPS`;\n        // Schedule another frame if needed\n        if (this.playing) {\n            if (!elementVisible(this.container)) {\n                // Don't leap forward in time when we become visible again.\n                this.lastTime = 0;\n                // We aren't visible. Wait a while.\n                window.setTimeout(this.scheduleFrameIfNeeded.bind(this), 100);\n            }\n            else {\n                // Schedule a frame normally.\n                // Add a slight delay so we never run at 100% CPU.\n                // (I think the browser may start putting off things that it really shouldn't if we run at 100%.)\n                window.setTimeout(this.scheduleFrameIfNeeded.bind(this), 5);\n            }\n        }\n        // Emit updated selection\n        if (this.selectionChanged && !this.mouseDown)\n            this.emitChangeSelectionIfNeeded();\n    }\n    compute(realElapsed) {\n        let damping = 0.1 * Math.pow(10, this.getNumber('dampInput'));\n        let heat = 0.1 * Math.pow(10, this.getNumber('heatInput'));\n        let guide = 1.0 * Math.pow(10, this.getNumber('guideInput'));\n        let attraction = 1.0 * Math.pow(10, this.getNumber('labelInput'));\n        let doHeat = this.getChecked('heatCheckbox');\n        let whatGuide = this.getString('guideSelect');\n        let doAttraction = this.getChecked('labelCheckbox');\n        let levelActive = Array(this.levels.length).fill(true);\n        for (let item of this.labelData)\n            if (item.type == 'level')\n                levelActive[item.index] = item.active;\n        for (let i = 0; i < this.n; i++)\n            this.pointActive[i] = levelActive[this.group[i]];\n        if (this.filter !== null) {\n            for (let i = 0; i < this.n; i++)\n                this.pointActive[i] = this.pointActive[i] && this.filter[i];\n        }\n        // Cut down oscillation during dragging\n        if (this.dragging && doAttraction) {\n            damping = Math.max(damping, attraction * 5.0);\n        }\n        let elapsed = Math.max(1e-6, Math.min(1, realElapsed));\n        this.computeMessage = '';\n        let vel = this.vel;\n        let proj = this.proj;\n        //Integrate dv/dt = -damping * v\n        let velKeep = Math.exp(-elapsed * damping);\n        matScaleInto(vel, velKeep);\n        if (doHeat) {\n            // Damping reduces the variance * velKeep^2\n            // We need to add velReplaceVar * desired steady state variance of temperature\n            // Note the sqrt(2) that appears in the continuous form of the Langevin equation arises from\n            // sqrt(1-velKeep*velKeep) approx= sqrt(2*elapsed*damping) for small elapsed*damping\n            let velReplaceVar = 1 - velKeep * velKeep;\n            let noise = times(proj.length, times, this.m, normal.sample, 0, Math.sqrt(heat * velReplaceVar));\n            noise = removeSpin(noise, proj);\n            matAddInto(vel, noise);\n        }\n        if (whatGuide != 'none') {\n            let activeX = this.X.filter((item, i) => this.pointActive[i]);\n            if (activeX.length) {\n                let grad = gradTable[whatGuide](proj, activeX);\n                matScaleInto(grad, -guide);\n                matAddInto(vel, grad);\n            }\n        }\n        if (doAttraction)\n            for (let label of this.labelData) {\n                let x = label.x;\n                let y = label.y;\n                if (x <= -1 || y <= -1 || x >= 1 || y >= 1)\n                    continue;\n                if (label.type == 'level' && !levelActive[label.index])\n                    continue;\n                let adjustment = 4 * (x * x + y * y);\n                vel[0] = vecAdd(vel[0], vecScale(label.vec, x * adjustment * attraction));\n                vel[1] = vecAdd(vel[1], vecScale(label.vec, y * adjustment * attraction));\n            }\n        // Nuke inactive axes\n        // - remove from velocity\n        // - gradually remove from position\n        let inactive = [];\n        for (let item of this.labelData)\n            if (item.type == 'axis' && !item.active)\n                inactive.push(this.axes[item.index].unit);\n        let tooMany = inactive.length >= this.m - 1;\n        let anyDropped = false;\n        if (inactive.length && !tooMany) {\n            // How fast inactive axes are removed\n            let nuke_amount = Math.min(2, 1 / elapsed);\n            let { u, v, q } = SVD(matTranspose(inactive));\n            let maxQ = Math.max(...q);\n            u = matTranspose(u);\n            let remove = zeroMat(2, this.m);\n            for (let i = 0; i < u.length; i++) {\n                // Don't nuke tiny directions (could arise from redundant nukings). TODO: make tolerance level an option\n                if (q[i] < maxQ * 1e-6) {\n                    anyDropped = true;\n                    continue;\n                }\n                let vec = u[i];\n                for (let j = 0; j < 2; j++) {\n                    // Remove any velocity and part of the projection along u[i]\n                    remove[j] = vecAdd(remove[j], vecScale(vec, -vecDot(vec, vel[j]) - nuke_amount * vecDot(vec, proj[j])));\n                }\n            }\n            // Don't introduce spin while removing\n            matAddInto(vel, removeSpin(remove, proj));\n        }\n        if (tooMany)\n            this.computeMessage += 'Error: too many axes removed\\n';\n        if (anyDropped)\n            this.computeMessage += 'Note: redundant axes removed\\n';\n        // Velocity step\n        let newProj = matAdd(proj, matScale(vel, elapsed));\n        // Project onto Stiefel manifold\n        let { u, v, q } = SVD(matTranspose(newProj));\n        matTcrossprodInto(newProj, v, u);\n        // \"Position based dynamics\"\n        this.vel = matScale(matAdd(newProj, matScale(proj, -1)), 1 / elapsed);\n        this.proj = newProj;\n    }\n}\n//# sourceMappingURL=langevitour.js.map","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n"],"names":["jStat","module","exports","Math","undefined","concat","Array","prototype","slice","toString","Object","calcRdx","n","m","val","pow","log","LOG10E","isArray","arg","call","isFunction","isNumber","num","_init","arguments","retZero","retOne","retIdent","i","j","fn","args","map","length","this","seq","apply","toArray","constructor","utils","toVector","arr","_random_fn","random","setRandom","TypeError","extend","obj","rows","cols","dimensions","row","index","rowa","col","submat","arange","forEach","ind","column","cola","a","diag","nrow","res","antidiag","transpose","objArr","push","func","toAlter","ncol","cumreduce","alter","create","zeros","ones","rand","identity","symmetric","size","clear","min","max","cnt","hival","step","current","start","end","rl","_slice","list","copy","rcSlice","colSlice","rowSlice","sliceAssign","A","B","nl","ml","diagonal","diagArray","mat","t","jProto","sort","splice","funcs","passfunc","results","self","setTimeout","split","ascNum","b","clip","sum","sumsqrd","sumsqerr","tmp","mean","sumrow","product","prod","low","high","unique","hash","_arr","meansqerr","geomean","median","arrlen","cumsum","cumprod","diff","diffs","arrLen","rank","distinctNumbers","numberCounts","number","sortedDistinctNumbers","numberRanks","currentRank","count","mode","maxCount","numMaxCount","mode_arr","range","variance","flag","pooledvariance","reduce","samples","deviation","dev","stdev","sqrt","pooledstdev","meandev","abs","meddev","coeffvar","quartiles","round","quantiles","quantilesArray","alphap","betap","p","aleph","k","gamma","sortedArray","quantileVals","floor","percentile","exclusive","realIndex","parseInt","frac","percentileOfScore","score","kind","value","counter","len","strict","histogram","binCnt","first","binWidth","bins","covariance","arr1","arr2","u","v","arr1Len","sq_dev","corrcoeff","spearmancoeff","stanMoment","mu","sigma","skewSum","skewness","kurtosis","fullbool","tmpthis","callbackFunction","argsToPass","curriedFunction","vector","gammaln","x","xx","y","cof","ser","loggam","x0","x2","xp","gl","gl0","PI","gammafn","z","yi","q","fact","xden","xnum","Infinity","sin","gammap","lowRegGamma","an","aln","ap","del","c","d","h","ITMAX","NaN","exp","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","m2","aa","fpmin","qab","qap","qam","gammapinv","pp","lna1","afac","a1","gln","erf","ty","isneg","dd","erfc","erfcinv","err","ibetainv","lna","lnb","al","w","b1","ibeta","bt","randn","randg","shape","a2","oalph","betinc","eps","c9","a0","b0","m9","tukeyWprob","rr","cc","xleg","aleg","qsqz","wincr","pr_w","normal","cdf","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","f","_a","_b","_c","newthis","data","sample","vals","fnfunc","beta","pdf","alpha","inv","centralF","df1","df2","binomial","cauchy","local","scale","atan","tan","chisquare","dof","exponential","rate","invgamma","kumaraswamy","Error","lognormal","noncentralt","ncp","studentt","tol","flip","prob","lastvalue","std","pareto","SQRT2","dof2","weibull","uniform","betacdf","s","negbin","r","hypgeom","N","scaledPDF","samplesDone","scaledCDF","factor","poisson","l","sumarr","sampleSmall","L","sampleLarge","U","V","slam","loglam","invalpha","vr","us","lam","triangular","arcsine","asin","cos","laplace","tukey","nmeans","df","xlegq","alegq","Number","isFinite","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","t1","x1","ps","tukeyQinv","valx0","valx1","iter","isUsable","add","subtract","divide","multiply","nrescols","rescols","outer","dot","left","right","norm","nnorm","isNaN","angle","acos","aug","newarr","gauss_jordan","result","det","alen","alend","rowshift","colshift","mrow","mcol","gauss_elimination","maug","pivot","temp","y2","maxrow","triaUpSolve","parts","matrix_mode","triaLowSolve","lu","R","cholesky","T","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","Q","attrs","Q1","RI","I","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","theta","condition","e","ev","rungekutta","t_j","u_j","order","k1","k2","k3","romberg","h1","g","richardson","X","pos","y1","h_min","simpson","hermite","F","dF","dl","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","D","temp2","Y","C","Vt","differenceOfProportions","p1","n1","p2","n2","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","mean1","mean2","sd","qtest","tukeyhsd","arrays","means","normalci","change","tci","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","filter","sigmaHat","seBetaHat","mod","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","array","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","next","regresst","compile","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","stats","sds","ts","covar","xtranspx","inner","matrixsubtract","SVD","o","M","fill","S","VERSION","defineProperty","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","key","enumerable","get","prop","hasOwnProperty","Symbol","toStringTag","none","selector","querySelector","from","empty","querySelectorAll","matches","childMatcher","node","find","childFirst","firstElementChild","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","Map","keyValues","has","set","delete","arraylike","ascending","appendChild","child","insertBefore","xhtml","svg","xlink","xml","xmlns","name","prefix","indexOf","namespaces","space","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","trim","classList","ClassList","_node","_names","getAttribute","classedAdd","names","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","parseTypenames","typenames","type","onRemove","typename","on","__on","removeEventListener","listener","options","onAdd","event","contextListener","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","contains","root","Selection","groups","parents","_groups","_parents","selection","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","context","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","callback","nodes","each","attr","getAttributeNS","property","classed","text","html","creator","insert","before","deep","dispatch","iterator","noop","_","test","Dispatch","types","that","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","emptyOn","emptyTween","id","timing","schedules","__transition","tween","state","tick","duration","ease","init","schedule","svgNode","degrees","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","factory","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","toLowerCase","exec","rgbn","Rgb","rgba","hsla","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","basis","v0","v1","v2","v3","t3","channels","assign","displayable","formatHex8","formatHsl","clamp","nogamma","linear","rgbGamma","rgbSpline","spline","colors","values","reA","reB","source","am","bm","bs","bi","lastIndex","one","zero","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","active","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","nonpassive","passive","nonpassivecapture","capture","stopImmediatePropagation","preventDefault","DragEvent","subject","target","identifier","dx","dy","defineProperties","configurable","ctrlKey","button","defaultContainer","defaultSubject","navigator","maxTouchPoints","e10","e5","e2","tickIncrement","power","LN10","error","descending","bisector","compare1","compare2","delta","lo","hi","mid","center","ascendingBisect","bisectRight","genericArray","nb","na","setTime","date","ArrayBuffer","isView","DataView","valueOf","object","unit","normalize","bimap","domain","d0","d1","r0","r1","polymap","reverse","bisect","unknown","continuous","untransform","piecewise","output","input","rescale","invert","rangeRound","transformer","initRange","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","align","sign","symbol","width","comma","precision","formatDecimalParts","toExponential","coefficient","exponent","toFixed","toLocaleString","replace","toPrecision","formatRounded","toUpperCase","formatPrefix","prefixes","linearish","ticks","tickFormat","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","nice","prestep","maxIter","ceil","ramp","locale","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","formatTrim","charCodeAt","padding","randInt","times","vecSub","vecAdd","vecDot","vecScale","zeroMat","matTcrossprodInto","matAdd","matScale","matScaleInto","matAddInto","matTranspose","removeSpin","motion","proj","toggleVisible","el","display","hexByte","gradRepulsion","fineScale","strength","grad","off1","off2","gradCentralRepulsion","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","gradTable","jstat","template","Langevitour","EventTarget","container","height","super","originalWidth","originalHeight","pointSize","colnames","permutor","unpermutor","rownames","levels","levelColors","lineFrom","lineTo","lineColors","fills","selectionChanged","axes","labelData","vel","zoom","xScaleUnit","yScaleUnit","xScale","yScale","xScaleClamped","yScaleClamped","haveData","playing","frameScheduled","lastTime","mouseInCheckbox","dragging","fps","computeMessage","mousing","mouseDown","mouseWentDown","mouseShiftKey","mouseX","mouseY","xy","fillsFrame","pointActive","div","shadow","attachShadow","shadowChild","canvas","overlay","langevitour","resize","plotDiv","scheduleFrameIfNeeded","visibility","shiftKey","requestFullscreen","fullscreenElement","exitFullscreen","pad","offsetWidth","offsetHeight","paddingLeft","configure","getInput","matStr","line","item","log10","JSON","stringify","getState","setState","className","getElementsByClassName","getString","getNumber","getChecked","checked","emitChangeFilter","Event","emitChangeSelectionIfNeeded","renderValue","axisColors","extraAxes","extraAxesNames","projFromScaled","vec","nGroups","colorVariation","pointColor","label","halfWidth","halfHeight","selected","controlHeight","innerText","ctx","getContext","clearRect","configureScales","thys","divs","refreshLabels","maxX","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","__noselect","MozUserSelect","nodrag","mouse","noclick","yesdrag","touches","changedTouches","touch","p0","clickDistance","cursor","makeDraggable","axesOn","heatOn","guideType","labelAttractionOn","damping","heat","guide","labelAttraction","brush","labelInactive","labelPos","projection","needChangeFilter","needChangeSelection","pointRepulsionType","pointRepulsion","includes","doFrame","shift","compute","selectedAxis","selectedLevel","showAxes","levelActive","brushRadius","brushPoints","d2","ratio","devicePixelRatio","rx","ry","strokeStyle","fillStyle","fillRect","strokeRect","axisScale","xProj","yProj","beginPath","moveTo","stroke","lineWidth","tanh","ox","rug","rounding","pA","pB","arc","save","textAlign","textBaseline","lineJoin","font","scaled","strokeText","fillText","restore","hint","parentElement","innerHeight","bottom","innerWidth","elementVisible","realElapsed","attraction","doHeat","whatGuide","doAttraction","velKeep","velReplaceVar","noise","activeX","adjustment","inactive","tooMany","anyDropped","nuke_amount","maxQ","newProj"],"sourceRoot":""}